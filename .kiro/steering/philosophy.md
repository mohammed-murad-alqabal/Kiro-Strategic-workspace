# الفلسفة الهندسية: التطوير الموجه بالمواصفات (Spec-Driven Development)

## 0. المبدأ الصفري: الأمان أولاً (Security First)

يجب أن تلتزم جميع أنشطة التطوير، بما في ذلك إنشاء المواصفات وتوليد الكود، بمعايير الأمان المحددة في ملف **`steering/security.md`**. أي ميزة مقترحة أو تصميم يعرض الأمان للخطر يجب رفضه أو وضع علامة عليه للمراجعة الفورية. الأمان هو شرط مسبق غير قابل للتفاوض لجميع المبادئ الأخرى.

## 1. المبدأ الأساسي: Spec-Driven Development (SDD)

يجب أن يكون كل عمل يقوم به وكيل Kiro (توليد كود، تصميم، توثيق) ناتجًا بشكل مباشر عن مواصفة (Spec) واضحة ومكتملة وموافق عليها. المواصفة هي المصدر الوحيد للحقيقة.

## 2. القيم الأساسية والمبادئ العليا (Engineering Charter)

هذه المبادئ مستمدة من الميثاق الهندسي للمشروع ويجب أن توجه جميع القرارات الهندسية:

1.  **الاستدامة (Sustainability):** يجب أن تكون الحلول قابلة للصيانة على المدى الطويل، وتجنب الديون التقنية.
2.  **الشفافية والتعاون (Transparency & Collaboration):** يجب أن تكون جميع القرارات المعمارية موثقة ومبررة (في `specs/design.md`).
3.  **الجودة أولاً (Quality First):** يجب أن يكون الكود المولد مغطى بالاختبارات (Unit/Integration Tests) قبل اعتباره مكتملاً.
4.  **الأتمتة الذكية (Intelligent Automation):** تطبيق الذكاء الاصطناعي والتعلم الآلي في جميع مراحل التطوير.
5.  **التحسين المستمر (Continuous Improvement):** التعلم من البيانات والتجارب لتحسين الجودة والأداء.

## 3. التوجيهات للوكيل

1. **الرفض التلقائي:** إذا تلقيت طلبًا لإنشاء ميزة أو تعديلها دون الإشارة إلى مواصفة مكتوبة في `specs/`، يجب عليك رفض الطلب وتوجيه المستخدم لإنشاء المواصفة أولاً باستخدام `/createSpec`.
2. **الالتزام الصارم:** يجب أن يلتزم الكود المولد بنسبة 100% بالمتطلبات الوظيفية وغير الوظيفية المحددة في المواصفة.
3. **القياس أولاً:** يجب أن تتضمن كل مواصفة قسمًا يحدد مقاييس DORA و SPACE المتوقعة. يجب على الوكيل أن يضمن أن الكود المولد يدعم جمع هذه المقاييس.
4. **التبني قبل البناء:** يجب على الوكيل دائمًا البحث عن حلول جاهزة وموثوقة (مكتبات، خدمات سحابية مُدارة) قبل البدء في كتابة كود مخصص.
5. **الأمان بالصميم:** يجب أن تكون اعتبارات الأمان (وفقًا لـ `steering/security.md`) جزءًا لا يتجزأ من عملية التوليد، وليس مراجعة لاحقة.
6. **التحليل الذكي:** استخدام الذكاء الاصطناعي لتحليل الكود واكتشاف الأنماط والمشاكل المحتملة.
7. **التوثيق التلقائي:** توليد التوثيق تلقائياً من الكود والمواصفات.
8. **الاختبار الشامل:** تطبيق اختبارات متعددة المستويات (Unit, Integration, E2E, Performance, Security).

## 4. مبادئ التطوير المستقل

### 4.1 الأتمتة الكاملة
- تطبيق الأتمتة في جميع مراحل دورة حياة التطوير
- تقليل التدخل البشري إلى الحد الأدنى
- اتخاذ القرارات الذكية بناءً على السياق والبيانات

### 4.2 التعلم الآلي المدمج
- تحليل أنماط التطوير والأخطاء الشائعة
- التعلم من قرارات المطور وتفضيلاته
- تحسين اقتراحات الكود بناءً على التجربة
- التنبؤ بالمشاكل قبل حدوثها

### 4.3 الذكاء المعماري
- تحليل المعمارية وتقديم توصيات للتحسين
- اكتشاف الأنماط المعمارية المثلى
- تحسين الأداء والقابلية للتوسع
- ضمان الامتثال للمعايير المعمارية

## 5. معايير التفوق

### 5.1 الجودة
- تغطية اختبارات لا تقل عن 85%
- تعقد الكود أقل من 10 لكل دالة
- التكرار أقل من 3% من الكود
- تقييم الديون التقنية A أو أفضل

### 5.2 الأداء
- وقت الاستجابة أقل من 200ms للواجهات
- الإنتاجية أكثر من 1000 طلب/ثانية
- استهلاك الذاكرة أقل من 512MB للخدمات الصغيرة
- وقت البدء أقل من 30 ثانية

### 5.3 الأمان
- صفر ثغرات عالية الخطورة
- تشفير جميع البيانات الحساسة
- تطبيق OAuth 2.0 أو أفضل
- تسجيل جميع العمليات الحساسة
