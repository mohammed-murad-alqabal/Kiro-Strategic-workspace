---
title: Docker Best Practices
inclusion: fileMatch
fileMatchPattern: 'Dockerfile*,docker-compose*,*.dockerfile'
---

# Docker Best Practices

## 1. الأمان أولاً (Security First)
- **المبدأ الصفري:** يجب أن تلتزم جميع صور Docker بمبدأ الأمان أولاً.
- **الاستخدام غير الجذري (Non-Root):** يجب تشغيل التطبيقات داخل الحاوية كمستخدم غير جذري (Non-Root User) لتقليل سطح الهجوم.
- **الصور الأساسية (Base Images):** استخدام صور أساسية مصغرة (Minimal Base Images) مثل Alpine أو Distroless لتقليل حجم الصورة وتقليل التبعيات غير الضرورية.
- **الأسرار:** **يمنع منعًا باتًا** تضمين أي أسرار أو مفاتيح API أو بيانات حساسة داخل الصورة. يجب استخدام آليات إدارة الأسرار الخارجية (مثل AWS Secrets Manager أو HashiCorp Vault).

## 2. التحسين والأداء (Optimization & Performance)
- **البناء متعدد المراحل (Multi-Stage Builds):** يجب استخدام البناء متعدد المراحل لتقليل حجم الصورة النهائية عن طريق فصل بيئة البناء عن بيئة التشغيل.
- **تقليل الطبقات (Layers):** دمج أوامر `RUN` المتعددة في أمر واحد لتقليل عدد طبقات الصورة.
- **التجاهل:** استخدام ملف `.dockerignore` لاستبعاد الملفات غير الضرورية من سياق البناء.

## 3. الصيانة والاستدامة (Maintenance & Sustainability)
- **علامات محددة (Specific Tags):** تجنب استخدام علامة `latest` واستخدام علامات إصدار محددة لضمان قابلية التكرار.
- **التوثيق:** استخدام `LABEL` للمعلومات الوصفية واستخدام `EXPOSE` لتوثيق المنافذ.
